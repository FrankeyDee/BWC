{"ast":null,"code":"import _classCallCheck from \"/Users/frankey/Desktop/Coding_Bootcamp/Binge-Watch-Club/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/frankey/Desktop/Coding_Bootcamp/Binge-Watch-Club/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/frankey/Desktop/Coding_Bootcamp/Binge-Watch-Club/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/frankey/Desktop/Coding_Bootcamp/Binge-Watch-Club/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/frankey/Desktop/Coding_Bootcamp/Binge-Watch-Club/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/frankey/Desktop/Coding_Bootcamp/Binge-Watch-Club/client/src/components/Home/index.js\";\nimport React, { Component, Fragment } from \"react\";\nimport API from \"../ApiSaveShows/API\";\nimport Banner from \"./banner\";\nimport MovieSlider from \"../MovieSlider\";\nimport About from \"./about\";\n\nvar Home =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Home, _Component);\n\n  function Home() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Home)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      movies: []\n    };\n\n    _this.getSavedShows = function () {\n      API.getSavedShows(\"/api/shows\").then(function (res) {\n        return _this.setState({\n          shows: res.data\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.loadMovies = function () {\n      var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        target: {\n          value: 28\n        }\n      };\n      var id = e.target.value;\n      fetch(\"/api/show/search/\".concat(id)).then(function (res) {\n        return res.json();\n      }).then(function (res) {\n        return res.results;\n      }).then(function (res) {\n        return res.reduce(function (movieObj, show) {\n          movieObj.push({\n            name: show.name,\n            poster: 'https://image.tmdb.org/t/p/w400' + show.poster_path,\n            overview: show.overview\n          });\n          return movieObj;\n        }, []);\n      }).then(function (show) {\n        return _this.setState({\n          movies: show\n        });\n      }).catch(function (err) {\n        return console.error(err);\n      });\n    };\n\n    _this.handleShowSave = function (show) {\n      API.saveShow(show).then(function (res) {\n        alert('show saved');\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.loadMovies();\n    } //------------------\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(Banner, {\n        loadMovies: this.loadMovies,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }), React.createElement(MovieSlider, {\n        movies: this.state.movies,\n        saveHandler: this.handleShowSave,\n        isSearch: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Home;\n}(Component);\n\nexport default Home;","map":{"version":3,"sources":["/Users/frankey/Desktop/Coding_Bootcamp/Binge-Watch-Club/client/src/components/Home/index.js"],"names":["React","Component","Fragment","API","Banner","MovieSlider","About","Home","state","movies","getSavedShows","then","res","setState","shows","data","catch","err","console","log","loadMovies","e","target","value","id","fetch","json","results","reduce","movieObj","show","push","name","poster","poster_path","overview","error","handleShowSave","saveShow","alert"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,GAAP,MAAgB,qBAAhB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,WAAP,MAAwB,gBAAxB;AACA,OAAOC,KAAP,MAAkB,SAAlB;;IAEMC,I;;;;;;;;;;;;;;;;;UACFC,K,GAAQ;AACJC,MAAAA,MAAM,EAAE;AADJ,K;;UASZC,a,GAAgB,YAAM;AAClBP,MAAAA,GAAG,CAACO,aAAJ,CAAkB,YAAlB,EACGC,IADH,CACQ,UAAAC,GAAG;AAAA,eACP,MAAKC,QAAL,CAAc;AACZC,UAAAA,KAAK,EAAEF,GAAG,CAACG;AADC,SAAd,CADO;AAAA,OADX,EAMGC,KANH,CAMS,UAAAC,GAAG;AAAA,eAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ;AAAA,OANZ;AAOH,K;;UAKGG,U,GAAa,YAAmC;AAAA,UAAlCC,CAAkC,uEAA9B;AAAEC,QAAAA,MAAM,EAAE;AAAEC,UAAAA,KAAK,EAAE;AAAT;AAAV,OAA8B;AAC5C,UAAMC,EAAE,GAAGH,CAAC,CAACC,MAAF,CAASC,KAApB;AACAE,MAAAA,KAAK,4BAAqBD,EAArB,EAAL,CACKb,IADL,CACU,UAAAC,GAAG;AAAA,eAAIA,GAAG,CAACc,IAAJ,EAAJ;AAAA,OADb,EAEKf,IAFL,CAEU,UAAAC,GAAG;AAAA,eAAIA,GAAG,CAACe,OAAR;AAAA,OAFb,EAGKhB,IAHL,CAGU,UAAAC,GAAG;AAAA,eAAIA,GAAG,CAACgB,MAAJ,CAAW,UAACC,QAAD,EAAWC,IAAX,EAAoB;AACxCD,UAAAA,QAAQ,CAACE,IAAT,CAAc;AAAEC,YAAAA,IAAI,EAAEF,IAAI,CAACE,IAAb;AAAmBC,YAAAA,MAAM,EAAE,oCAAoCH,IAAI,CAACI,WAApE;AAAiFC,YAAAA,QAAQ,EAAEL,IAAI,CAACK;AAAhG,WAAd;AAEA,iBAAON,QAAP;AACH,SAJY,EAIV,EAJU,CAAJ;AAAA,OAHb,EAQKlB,IARL,CAQU,UAAAmB,IAAI;AAAA,eAAI,MAAKjB,QAAL,CAAc;AAAEJ,UAAAA,MAAM,EAAEqB;AAAV,SAAd,CAAJ;AAAA,OARd,EASKd,KATL,CASW,UAAAC,GAAG;AAAA,eAAIC,OAAO,CAACkB,KAAR,CAAcnB,GAAd,CAAJ;AAAA,OATd;AAUH,K;;UACJoB,c,GAAiB,UAAAP,IAAI,EAAI;AAClB3B,MAAAA,GAAG,CAACmC,QAAJ,CAAaR,IAAb,EACCnB,IADD,CACM,UAAAC,GAAG,EAAI;AAEL2B,QAAAA,KAAK,CAAC,YAAD,CAAL;AAEP,OALD;AAMH,K;;;;;;;wCAvCmB;AAChB,WAAKnB,UAAL;AACH,K,CAEL;;;;6BAsCa;AACL,aACI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,MAAD;AAAQ,QAAA,UAAU,EAAE,KAAKA,UAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI,oBAAC,WAAD;AAAa,QAAA,MAAM,EAAE,KAAKZ,KAAL,CAAWC,MAAhC;AAAwC,QAAA,WAAW,EAAE,KAAK4B,cAA1D;AAA0E,QAAA,QAAQ,MAAlF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CADJ;AAOH;;;;EAtDcpC,S;;AAyDnB,eAAeM,IAAf","sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport API from \"../ApiSaveShows/API\";\nimport Banner from \"./banner\";\nimport MovieSlider from \"../MovieSlider\";\nimport About from \"./about\";\n\nclass Home extends Component {\n    state = {\n        movies: []\n    }\n    componentDidMount() {\n        this.loadMovies();\n    }\n\n//------------------\n\ngetSavedShows = () => {\n    API.getSavedShows(\"/api/shows\")\n      .then(res =>\n        this.setState({\n          shows: res.data\n        })\n      )\n      .catch(err => console.log(err));\n};\n\n\n\n\n    loadMovies = (e = { target: { value: 28 } }) => {\n        const id = e.target.value;\n        fetch(`/api/show/search/${id}`)\n            .then(res => res.json())\n            .then(res => res.results)\n            .then(res => res.reduce((movieObj, show) => {\n                movieObj.push({ name: show.name, poster: 'https://image.tmdb.org/t/p/w400' + show.poster_path, overview: show.overview });\n\n                return movieObj;\n            }, []))\n            .then(show => this.setState({ movies: show }))\n            .catch(err => console.error(err))\n    }\n handleShowSave = show => {\n        API.saveShow(show)\n        .then(res => {\n           \n                alert('show saved')\n            \n        });\n    };\n   \n\n    render() {\n        return (\n            <Fragment>\n                <Banner loadMovies={this.loadMovies} />\n                <MovieSlider movies={this.state.movies} saveHandler={this.handleShowSave} isSearch />\n                {/* <About /> */}\n            </Fragment>\n        );\n    }\n}\n\nexport default Home\n"]},"metadata":{},"sourceType":"module"}